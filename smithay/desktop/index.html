<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Desktop management helpers"><meta name="keywords" content="rust, rustlang, rust-lang, desktop"><title>smithay::desktop - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../smithay/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../smithay/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module desktop</a></h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="desktop" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../smithay/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">smithay</a>::<wbr><a class="mod" href="#">desktop</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/smithay/desktop/mod.rs.html#1-61" title="goto source code">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Desktop management helpers</p>
<p>This module contains helpers to organize and interact with desktop-style shells.</p>
<p>It is therefore a lot more opinionated than for example the <a href="../wayland/shell/xdg/fn.xdg_shell_init.html">xdg-shell handler</a>
and tightly integrates with some protocols (e.g. xdg-shell).</p>
<p>The usage of this module is therefor entirely optional and depending on your use-case you might also only want
to use a limited set of the helpers provided.</p>
<h3 id="helpers" class="section-header"><a href="#helpers">Helpers</a></h3><h4 id="window" class="section-header"><a href="#window"><code>Window</code></a></h4>
<p>A window represents what is typically understood by the end-user as a single application window.</p>
<p>Currently it abstracts over xdg-shell toplevels and Xwayland surfaces (TODO).
It provides a bunch of methods to calculate and retrieve its size, manage itself, attach additional user_data
as well as a <a href="fn.draw_window.html">drawing function</a> to ease rendering it’s related surfaces.</p>
<p>Note that a <a href="struct.Window.html" title="Window"><code>Window</code></a> on it’s own has no position. For that it needs to be placed inside a <a href="space/struct.Space.html" title="Space"><code>Space</code></a>.</p>
<h4 id="space" class="section-header"><a href="#space"><code>Space</code></a></h4>
<p>A space represents a two-dimensional plane of undefined dimensions.
<a href="struct.Window.html" title="Window"><code>Window</code></a>s and <a href="../wayland/output/struct.Output.html"><code>Output</code></a>s can be mapped onto it.</p>
<p>Windows get a position and stacking order through mapping. Outputs become views of a part of the <a href="space/struct.Space.html" title="Space"><code>Space</code></a>
and can be rendered via <a href="space/struct.Space.html#method.render_output" title="Space::render_output"><code>Space::render_output</code></a>. Rendering results of spaces are automatically damage-tracked.</p>
<h4 id="layer-shell" class="section-header"><a href="#layer-shell">Layer Shell</a></h4>
<p>A <a href="struct.LayerSurface.html" title="LayerSurface"><code>LayerSurface</code></a> represents a surface as provided by e.g. the layer-shell protocol.
It provides similar helper methods as a <a href="struct.Window.html" title="Window"><code>Window</code></a> does to toplevel surfaces.</p>
<p>Each <a href="../wayland/output/struct.Output.html"><code>Output</code></a> can be associated a <a href="struct.LayerMap.html" title="LayerMap"><code>LayerMap</code></a> by calling <a href="fn.layer_map_for_output.html" title="layer_map_for_output"><code>layer_map_for_output</code></a>,
which <a href="struct.LayerSurface.html" title="LayerSurface"><code>LayerSurface</code></a>s can be mapped upon. Associated layer maps are automatically rendered by <a href="space/struct.Space.html#method.render_output" title="Space::render_output"><code>Space::render_output</code></a>,
but a <a href="fn.draw_layer_surface.html">draw function</a> is also provided for manual layer-surface management.</p>
<h4 id="popups" class="section-header"><a href="#popups">Popups</a></h4>
<p>Provides a <a href="struct.PopupManager.html" title="PopupManager"><code>PopupManager</code></a>, which can be used to automatically keep track of popups and their
relations to one-another. Popups are then automatically rendered with their matching toplevel surfaces,
when either <a href="fn.draw_window.html" title="draw_window"><code>draw_window</code></a>, <a href="fn.draw_layer_surface.html" title="draw_layer_surface"><code>draw_layer_surface</code></a> or <a href="space/struct.Space.html#method.render_output" title="Space::render_output"><code>Space::render_output</code></a> is called.</p>
<h3 id="remarks" class="section-header"><a href="#remarks">Remarks</a></h3>
<p>Note that the desktop abstractions are concerned with easing rendering different clients and therefore need to be able
to manage client buffers to do so. If you plan to use the provided drawing functions, you need to use
<a href="../backend/renderer/utils/fn.on_commit_buffer_handler.html"><code>on_commit_buffer_handler</code></a>.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left import-item"><code>pub use self::space::<a class="struct" href="space/struct.Space.html" title="struct smithay::desktop::space::Space">Space</a>;</code></div><div class="item-right docblock-short"></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="space/index.html" title="smithay::desktop::space mod">space</a></div><div class="item-right docblock-short"><p>This module contains the <a href="space/struct.Space.html" title="Space"><code>Space</code></a> helper class as well has related
rendering helpers to add custom elements or different clients to a space.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="utils/index.html" title="smithay::desktop::utils mod">utils</a></div><div class="item-right docblock-short"><p>Helper functions to ease dealing with surface trees</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LayerMap.html" title="smithay::desktop::LayerMap struct">LayerMap</a></div><div class="item-right docblock-short"><p>Map of <a href="struct.LayerSurface.html" title="LayerSurface"><code>LayerSurface</code></a>s on an <a href="../wayland/output/struct.Output.html" title="Output"><code>Output</code></a></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LayerSurface.html" title="smithay::desktop::LayerSurface struct">LayerSurface</a></div><div class="item-right docblock-short"><p>A <a href="struct.LayerSurface.html" title="LayerSurface"><code>LayerSurface</code></a> represents a single layer surface as given by the wlr-layer-shell protocol.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PopupGrab.html" title="smithay::desktop::PopupGrab struct">PopupGrab</a></div><div class="item-right docblock-short"><p>Represents the explicit grab a client requested for a popup</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PopupKeyboardGrab.html" title="smithay::desktop::PopupKeyboardGrab struct">PopupKeyboardGrab</a></div><div class="item-right docblock-short"><p>Default implementation of a <a href="../wayland/seat/trait.KeyboardGrab.html" title="KeyboardGrab"><code>KeyboardGrab</code></a> for <a href="struct.PopupGrab.html" title="PopupGrab"><code>PopupGrab</code></a></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PopupManager.html" title="smithay::desktop::PopupManager struct">PopupManager</a></div><div class="item-right docblock-short"><p>Helper to track popups.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PopupPointerGrab.html" title="smithay::desktop::PopupPointerGrab struct">PopupPointerGrab</a></div><div class="item-right docblock-short"><p>Default implementation of a <a href="../wayland/seat/trait.PointerGrab.html" title="PointerGrab"><code>PointerGrab</code></a> for <a href="struct.PopupGrab.html" title="PopupGrab"><code>PopupGrab</code></a></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Window.html" title="smithay::desktop::Window struct">Window</a></div><div class="item-right docblock-short"><p>Represents a single application window</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.WindowSurfaceType.html" title="smithay::desktop::WindowSurfaceType struct">WindowSurfaceType</a></div><div class="item-right docblock-short"><p>Defines the surface types that can be
queried with <a href="struct.Window.html#method.surface_under" title="Window::surface_under"><code>Window::surface_under</code></a></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.X11Surface.html" title="smithay::desktop::X11Surface struct">X11Surface</a></div><div class="item-right docblock-short"><p>TODO</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Kind.html" title="smithay::desktop::Kind enum">Kind</a></div><div class="item-right docblock-short"><p>Abstraction around different toplevel kinds</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PopupGrabError.html" title="smithay::desktop::PopupGrabError enum">PopupGrabError</a></div><div class="item-right docblock-short"><p>Defines the possible errors that
can be returned from <a href="struct.PopupManager.html#method.grab_popup" title="PopupManager::grab_popup"><code>PopupManager::grab_popup</code></a></p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PopupKind.html" title="smithay::desktop::PopupKind enum">PopupKind</a></div><div class="item-right docblock-short"><p>Represents a popup surface</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PopupUngrabStrategy.html" title="smithay::desktop::PopupUngrabStrategy enum">PopupUngrabStrategy</a></div><div class="item-right docblock-short"><p>Defines the possibly strategies
for the <a href="struct.PopupGrab.html#method.ungrab" title="PopupGrab::ungrab"><code>PopupGrab::ungrab</code></a> operation</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.draw_layer_surface.html" title="smithay::desktop::draw_layer_surface fn">draw_layer_surface</a></div><div class="item-right docblock-short"><p>Renders a given <a href="struct.LayerSurface.html" title="LayerSurface"><code>LayerSurface</code></a> using a provided renderer and frame.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.draw_window.html" title="smithay::desktop::draw_window fn">draw_window</a></div><div class="item-right docblock-short"><p>Renders a given <a href="struct.Window.html" title="Window"><code>Window</code></a> using a provided renderer and frame.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.layer_map_for_output.html" title="smithay::desktop::layer_map_for_output fn">layer_map_for_output</a></div><div class="item-right docblock-short"><p>Retrieve a <a href="struct.LayerMap.html" title="LayerMap"><code>LayerMap</code></a> for a given <a href="../wayland/output/struct.Output.html" title="Output"><code>Output</code></a>.</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="smithay" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (21b4a9cfd 2022-01-27)" ></div>
</body></html>